<div class="main-content mt-3">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xl-10 offset-xl-1 col-lg-10 offset-lg-1 col-md-12">
        <mat-tab-group animationDuration="0ms">
          <mat-tab label="Identificação">
            <ng-template matTabContent>
              <div class="card">
                <div class="header">
                  <div class="row">
                    <div class="form-group col-md-10">
                      <h4 class="title">Informações Gerais</h4>
                    </div>

                    <div class="form-group col-md-2 d-flex flex-row-reverse">
                      <button
                        (click)="voltar()"
                        class="btn btn-info btn-fill col-md-12"
                      >
                        Voltar
                      </button>
                    </div>
                  </div>
                </div>
                <div class="content">
                  <mat-accordion [multi]="true">
                    <mat-expansion-panel [expanded]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          Informações Principais
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <form [formGroup]="formulario" #formUsuario="ngForm">
                        <div class="row">
                          <div class="col-md-1">
                            <div class="form-group">
                              <label>Código</label>
                              <input
                                class="form-control"
                                formControlName="id"
                              />
                            </div>
                          </div>

                          <div class="col-md-11">
                            <div class="form-group">
                              <label>Nome do Usuário</label>
                              <input
                                class="form-control"
                                formControlName="nome"
                                placeholder="De um nome para essa materia"
                              />
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-12">
                            <div class="form-group">
                              <label>Email</label>
                              <input
                                class="form-control"
                                formControlName="email"
                              />
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-md-2">
                            <div class="form-group">
                              <mat-checkbox formControlName="isEmailVerified"
                                >Email Verificado?</mat-checkbox
                              >
                            </div>
                          </div>

                          <div class="col-md-2">
                            <div class="form-group">
                              <mat-checkbox formControlName="ativo"
                                >Usuário Ativo?</mat-checkbox
                              >
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-md-2">
                            <label>Situação do Usuário</label>
                            <div class="form-group">
                              <input
                                class="form-control"
                                formControlName="tipoUsuarioEnum"
                              />
                            </div>
                          </div>

                          <div class="col-md-10" style="text-align: end">
                            <button
                              class="mr-1 btn btn-danger btn-fill col-md-3"
                              *ngIf="!!this.formulario.getRawValue().ativo"
                              (click)="desativarUsuario()"
                            >
                              Desativar Usuario
                            </button>

                            <button
                              class="mr-1 btn btn-info btn-fill col-md-3"
                              *ngIf="!!!this.formulario.getRawValue().ativo"
                              (click)="ativarUsuario()"
                            >
                              Ativar Usuario
                            </button>

                            <button
                              class="mr-1 btn btn-success btn-fill col-md-3"
                              *ngIf="podeAlterarTipoUsuario"
                              (click)="marcarUsuarioComoAluno()"
                            >
                              Definir como Aluno
                            </button>

                            <button
                              class="mr-1 btn btn-success btn-fill col-md-3"
                              *ngIf="podeAlterarTipoUsuario"
                              (click)="marcarUsuarioComoProfessor()"
                            >
                              Definir como Professor
                            </button>
                          </div>
                        </div>
                      </form>
                    </mat-expansion-panel>
                  </mat-accordion>
                </div>
              </div>
            </ng-template>
          </mat-tab>
        </mat-tab-group>
        <div class="col-xl-8 col-lg-7 col-md-12"></div>
      </div>
    </div>
  </div>
</div>
